# VeiGo（迷你围棋 Web 版）

一个可以直接放在 GitHub Pages 上玩的迷你围棋对弈网页。  
支持两地玩家通过 10 位交换码联机。

## 快速开始（玩家）
1. 打开站点首页。
2. 一方点“创建对局”，拿到 10 位交换码。
3. 另一方点“加入对局”，输入这 10 位码。
4. 进入房间后按阶段下棋，直到终局。

## 一局对局流程
1. 布局阶段：双方各下 3 手基地子（先互相看不到）。
2. 争先阶段：双方贴目争先手。
3. 主对局阶段：正常落子 + 隐藏手 + 查找。
4. 终局：双 Pass 或一方认输。

## 规则（新手版）

### 1) 棋盘与普通落子
- 棋盘是 `11x11`。
- 吃子、气、打劫按普通围棋逻辑处理。

### 2) 布局三手（基地子）
- 每人先下 3 颗“基地子”。
- 基地子在计分上总值 5 目（活子 1 + 基地加值 4）。
- 基地子被对手提掉时，对手即时加 5 目。

### 3) 重叠规则
- 如果双方布局时下在同一点：
- 这两颗基地子都会消失。
- 该点变成“动态减点”。
- 之后首次有人落在这个点，会 `-5`。

### 4) 争先手（贴目）
- 双方各报 `0~50`。
- 报得高的一方先手。
- 后手得到该贴目分。
- 第一轮同分就再来一轮；第二轮还同分则随机决定先后手。

### 5) 加点/减点
- 减点（首次落子 `-5`）：`(2,2) (2,8) (8,2) (8,8)`
- 加点（首次落子 `+5`）：`(0,5) (5,0) (10,5) (5,10)`
- 每个点只触发一次。

### 6) 隐藏手与查找
- 每人整局可用一次隐藏手。
- 隐藏手是“先选点，再提交”。
- 提交后，自己仍可看到该子（带 `H` 标记）；对手看不到。
- 被对方发现后，隐藏子会正常公开显示。
- 对手使用隐藏手后，你可以查找一次，查找固定 `-2` 分。

### 7) 读秒
- 主对局提供读秒显示：每方 25 秒，3 次读秒。
- HUD 会显示黑棋/白棋各自当前秒数和剩余读秒次数。

### 8) 终局与胜负
- 连续两次 Pass：终局并计分。
- 任意一方认输：立即结束，认输方判负（不额外加罚目）。

### 9) 终局计分
总分由这些部分组成：
- 活子数
- 基地子加值
- 加减点与查找带来的分数变化
- 地盘（减点在空中不计地）
- 贴目补偿

## 当前版本说明
- 已支持两人异地交换码对局。
- 自动匹配入口只做了占位，暂不可用。
- 首版为好友信任模型，不做强防作弊。
- 无 TURN 时，少数网络环境可能连不上。

## 本地开发（开发者）
```bash
npm install
npm run test
npm run dev
```

## 发布
仓库配置了 GitHub Actions 自动发布到 GitHub Pages。  
推送到 `main` 后会自动执行测试、构建和部署。
